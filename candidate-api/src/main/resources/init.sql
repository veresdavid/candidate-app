SET NOCOUNT ON

DROP TABLE Session
DROP TABLE HourType
DROP TABLE Interviewer
DROP TABLE Supervisor


CREATE TABLE HourType(
    ID				int					IDENTITY(1,1) PRIMARY KEY,
    HourTypeName    NVARCHAR(80)		NOT NULL,
    Ratio			float				NOT NULL
)
GO

CREATE TABLE Supervisor(
    ID				int					IDENTITY(1,1) PRIMARY KEY,
    Name		    NVARCHAR(80)		NOT NULL
)
GO

CREATE TABLE Interviewer(
    ID				int					IDENTITY(1,1) PRIMARY KEY,
    Name		    NVARCHAR(80)		NOT NULL,
    HourlyRate		float				NOT NULL,
    SupervisorID	int					NOT NULL
)
GO

CREATE TABLE Session(
	InterviewerID	int,
	HourTypeID		int,
	SessionStart	DATETIME,
	SessionEnd		DATETIME
)

ALTER TABLE Interviewer ADD  CONSTRAINT [FK_Interviewer_SupervisorID] 
	FOREIGN KEY(SupervisorID)
	REFERENCES Supervisor (ID) 	
GO	

ALTER TABLE Session ADD  CONSTRAINT [FK_Session_InterviewerID] 
	FOREIGN KEY(InterviewerID)
	REFERENCES Interviewer (ID) 	
GO	

ALTER TABLE Session ADD  CONSTRAINT [FK_Session_HourTypeID] 
	FOREIGN KEY(HourTypeID)
	REFERENCES HourType (ID) 	
GO	

INSERT INTO HourType VALUES ('Interviewing'	,1.0) 
INSERT INTO HourType VALUES ('Recoding'		,0.7) 
INSERT INTO HourType VALUES ('Break'		,0.1) 
INSERT INTO HourType VALUES ('Translating'	,1.2) 

INSERT INTO Supervisor VALUES ('Fõnök Feri')
INSERT INTO Supervisor VALUES ('Vezér Viktor')
INSERT INTO Supervisor VALUES ('Szuper Szilárd')


INSERT INTO Interviewer VALUES ('Random József'		,5.1	,1)
INSERT INTO Interviewer VALUES ('Bélám'				,4.3	,1)
INSERT INTO Interviewer VALUES ('CATI Kati'			,5.6	,1)
INSERT INTO Interviewer VALUES ('Márton Marika'		,2.2	,1)
INSERT INTO Interviewer VALUES ('Küllõ Kálmán   '	,3.3	,2)
INSERT INTO Interviewer VALUES ('Hozé'				,1.1	,2)
INSERT INTO Interviewer VALUES ('Kenyér'			,4.5	,2)

INSERT INTO Session VALUES (1,1, '2014-02-03 15:00', '2014-02-03 17:00')
INSERT INTO Session VALUES (1,1, '2014-02-04 15:00', '2014-02-04 17:00')
INSERT INTO Session VALUES (1,3, '2014-02-05 10:00', '2014-02-05 17:00')
INSERT INTO Session VALUES (1,1, '2014-02-09 16:00', '2014-02-09 17:00')
INSERT INTO Session VALUES (1,2, '2014-03-03 15:00', '2014-03-03 17:00')
INSERT INTO Session VALUES (1,1, '2014-03-04 15:00', '2014-03-04 17:00')
INSERT INTO Session VALUES (1,3, '2014-03-05 10:00', '2014-03-05 17:00')
INSERT INTO Session VALUES (1,4, '2014-03-09 16:00', '2014-03-09 17:00')

INSERT INTO Session VALUES (2,1, '2014-02-03 05:00', '2014-02-03 07:00')
INSERT INTO Session VALUES (2,2, '2014-02-04 05:00', '2014-02-04 07:00')
INSERT INTO Session VALUES (2,3, '2014-02-05 00:00', '2014-02-05 07:00')
INSERT INTO Session VALUES (2,2, '2014-02-09 06:00', '2014-02-09 07:00')
INSERT INTO Session VALUES (2,2, '2014-03-03 05:00', '2014-03-03 09:00')
INSERT INTO Session VALUES (2,1, '2014-03-04 05:00', '2014-03-04 07:00')
INSERT INTO Session VALUES (2,3, '2014-03-05 00:00', '2014-03-05 07:00')
INSERT INTO Session VALUES (2,1, '2014-03-09 06:00', '2014-03-09 07:00')
INSERT INTO Session VALUES (2,1, '2014-04-09 06:00', '2014-04-09 07:00')
INSERT INTO Session VALUES (2,1, '2014-04-09 06:00', '2014-04-09 07:00')
INSERT INTO Session VALUES (2,1, '2014-04-09 06:00', '2014-04-09 07:00')

INSERT INTO Session VALUES (4,1, '2014-02-03 15:00', '2014-02-03 21:00')
INSERT INTO Session VALUES (4,1, '2014-02-04 15:00', '2014-02-04 19:00')
INSERT INTO Session VALUES (4,3, '2014-02-05 10:00', '2014-02-05 17:00')
INSERT INTO Session VALUES (4,1, '2014-02-09 16:08', '2014-02-09 17:00')
INSERT INTO Session VALUES (4,1, '2014-03-03 15:00', '2014-03-03 16:00')
INSERT INTO Session VALUES (4,1, '2014-03-04 15:00', '2014-03-04 17:00')
INSERT INTO Session VALUES (4,1, '2014-10-14 15:00', NULL)
INSERT INTO Session VALUES (4,2, '2014-03-05 10:00', '2014-03-05 12:00')
INSERT INTO Session VALUES (4,4, '2014-03-09 16:00', '2014-03-09 17:02')


INSERT INTO Session VALUES (5,3, '2014-02-05 10:00', '2014-02-05 19:00')
INSERT INTO Session VALUES (5,1, '2014-02-09 16:00', '2014-02-09 23:00')
INSERT INTO Session VALUES (5,2, '2014-03-09 10:00', '2014-03-09 12:00')
INSERT INTO Session VALUES (5,1, '2014-03-04 15:00', '2014-03-04 17:00')


SET NOCOUNT OFF